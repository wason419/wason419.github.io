---
layout: post
title: å·¥å…·ç¯‡1
subtitle: è®°å½•ä¸‹æ—¥å¸¸å¼€å‘æœ‰ç”¨åˆ°æˆ–å°è£…çš„å‡½æ•°
date: 2019-08-14
author: Wason
header-img: img/bg/post-bg-05.jpg
catalog: true
tags:
  - utilå‡½æ•°
---

# å·¥å…·ç¯‡ 1 #  
**è®°å½•ä¸‹æ—¥å¸¸å¼€å‘æœ‰ç”¨åˆ°æˆ–å°è£…çš„å‡½æ•°**

### 1.é‚®ç®±éªŒè¯æ­£åˆ™å…¬å¼

ç½‘ä¸Šæ‰¾åˆ°çš„æ¯”è¾ƒç®€å•äº›çš„éªŒè¯ï¼Œå¦‚[æ¯”è¾ƒæ­£å¼éªŒè¯é‚®ç®±çš„æ­£åˆ™][1]
```
/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/
/^[A-Za-zd]+([-_.][A-Za-zd]+)*@([A-Za-zd]+[-.])+[A-Za-zd]{2,5}$/
```

æ¥è‡ªé¡¹ç›®ä½¿ç”¨è¿‡çš„ä¾‹å­ï¼š
```
var ret = /^[A-Za-z0-9]+([-_.][A-Za-z0-9]+)*@([A-Za-z0-9][-A-Za-z0-9]+).gov.hk+$/;
ret.test(str)
```

===========2019-05-25======= 

è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œå¥½åƒä¸Šé¢ ğŸ‘† çš„éªŒè¯æ•ˆæœä¸å¤ªæ»¡è¶³ç°å®éœ€è¦ï¼Œä¸‹é¢ ğŸ‘‡ å†è¡¥å……ä¸ª
é‚®ç®±æ­£åˆ™éªŒè¯
```
/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/
```

### 2.ç”¨æ­£åˆ™è¡¨è¾¾å¼è·å– url ä¸­çš„æƒ³è¦çš„å‚æ•°ï¼ˆget ç±»å‹ URLï¼‰
```
function _getImgStrValue(str, key) {
    return str.match(new RegExp("(^|&|/?)" + key + "=([^&]*)(&|$)")) ? str.match(new RegExp("(^|&|/?)" + key + "=([^&]*)(&|$)"))[2] : ''
}

e.g.
var res = 'failed=0&start_time=201908010000&end_time=201908012359&time_dur=1439&interval=&tail=Radar/CAPPI_Ref_256km&tail_label=Reflectivity, 256km&num_files=24&ticket=nan&dummy='

var t_label = _getImgStrValue(res, 'tail_labelâ€™) // Reflectivity, 256km
```

åªéœ€è°ƒç”¨ä¸Šé¢ ğŸ‘† æ–¹æ³•ï¼Œä¼ æƒ³è¦è·å–æ•°æ®çš„å¯¹åº” key å…³é”®å­—ç¬¦ï¼Œæ–¹æ³•å°±ä¼šè·å–å½“å‰ window çš„ URL è·¯å¾„å¹¶ä¸æ­£åˆ™è¿›è¡ŒåŒ¹é…ï¼Œç„¶åè¿”å›æƒ³è¦çš„æ•°æ®ã€‚

### 3.é™åˆ¶ input æ¡†åªèƒ½è¾“å…¥æ•°å­—æˆ–â€™-â€™,è‹¥è¾“å…¥åˆ™å¯çœ‹åˆ°ä½†ä¼šç«‹é©¬æ¶ˆå¤±

@ä½¿ç”¨å‚è€ƒä»£ç 
```
<input type="text" id="question" maxlength="100" style="width: 38.1%;display: inline-block;" class="form-control" autocomplete="off" onkeyup="value=value.replace(/[^\d-]/g,'')">
```

ä½¿ç”¨æ­£åˆ™ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¾ˆå¿«çš„å®ç°ä¸€äº›éªŒè¯/è¿‡æ»¤æ€§åŠŸèƒ½ï¼Œä¸‹é¢ ğŸ‘‡ æ˜¯ä¸€äº›å¯¹ input è¾“å…¥å†…å®¹è¿›è¡ŒéªŒè¯çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œ**å®ç°è‹¥åœ¨ input è¾“å…¥è¿è§„å­—ç¬¦ï¼Œå¯ä»¥çœ‹åˆ°ä½†ä¼šç«‹é©¬æ¶ˆå¤±**

â‘  ä»¤ input æ¡†åªèƒ½è¾“å…¥**æ•°å­—æˆ–â€™-â€™**,ä¸èƒ½è¾“å…¥å…¶ä»–å­—ç¬¦åŒ…æ‹¬ä¸­è‹±æ–‡ã€ç‰¹æ®Šå­—ç¬¦`onkeyup="value=value.replace(/[^\d-]/g,'')`  
â‘¡ ä»¤ input æ¡†åªèƒ½è¾“å…¥ **æ•°å­—**`onkeyup="value=value.replace(/[^\d]/g,'')`

### 4.å¯¹ç¬¬ 3.çš„è¡¥å……å’Œå»¶ä¼¸å­¦ä¹ 

å¼•ç”¨ä¸Šé¢ ğŸ‘†**ç¬¬ 3.**ï¼Œè‹¥è¦

â‘¢ ä»¤ input ä¸èƒ½è¾“å…¥å•å¼•å·ã€åŒå¼•å·ï¼Œ**æ³¨æ„å¼•å·è¦ä¸ºè‹±æ–‡å­—ç¬¦**ï¼Œå¦‚æ­¤ä¾¿å¯è®©è‹±å¼å•å¼•å·å’ŒåŒå¼•å·æ—¶ å¯ä»¥çœ‹åˆ°ä½†ä¹Ÿä¼šè¢«ç½®ç©º`onkeyup="value=value.replace(/['\"]/g,'â€™)`  
â‘£ ä»¤ input åªèƒ½è¾“å…¥å•åŒå¼•å·`onkeyup="value=value.replace(/[^'\"]/g,â€™â€™)`

å¥½ï¼Œä¸‹é¢è¯´ä¸‹ä¸¤ç§ input å†…å®¹æ­£åˆ™éªŒè¯çš„ä¸åŒï¼Œä¸‹å›¾ç¬¬ä¸€ç§æ–¹æ³•ä¼šæ£€æµ‹è¾“å…¥çš„æ¯ä¸€ä¸ªå€¼ï¼Œä½†ä¸åˆé€‚çš„ä¼šæŠŠæ•´ä¸ª value å€¼ç½®ç©ºã€‚ç¬¬äºŒç§æ–¹æ³•å¥½äº›ï¼Œæ£€æµ‹æ¯ä¸€ä¸ªå€¼ï¼Œä½†åªæ˜¯æŠŠä¸åˆè§„çŸ©çš„ç½®ç©ºï¼Œå…¶ä»–çš„ä¸æ”¹å˜ã€‚
![](http://wason419.github.io/img/20190814/2019081401.png)

ä½¿ç”¨æ–¹å¼ï¼š
```
ç¬¬ä¸€ç§æ–¹æ³• onkeyup="value=contentLimit(value)"
ç¬¬äºŒç§æ–¹æ³• onkeyup="value=charactersLimit(value)"
```

### 5.æ•°ç»„æ¯”è¾ƒï¼Œä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œä¸€ä¸ªæ™®é€šæ•°ç»„ï¼Œè¦ä»å¯¹è±¡æ•°ç»„ä¸­æ‰¾åˆ°æœ‰ name å€¼è·Ÿæ™®é€šæ•°ç»„çš„å…ƒç´ å€¼ç›¸åŒçš„ï¼Œå°±ä»å¯¹è±¡æ•°ç»„ä¸­åˆ æ‰

æ¡ˆä¾‹ï¼ˆå›¾æ˜¯ç½‘ä¸Šæ‰¾çš„ï¼Œä¸‹é¢ä»£ç æŠŠ name æ”¹ä¸º id å°±å¯ä»¥äº†ï¼‰
![](http://wason419.github.io/img/20190814/2019081402.png)

**å¦‚ä¸‹æ–¹æ³•(å¯ä»¥å…¼å®¹ IE)**

```
function unique (obj, ary){
  return obj.filter(function(item){
    return ary.indexOf(item.name) == -1;
  })
}
```
å¦‚æœæœ€åæ”¹ `return ary.indexOf(item.id) != -1`ï¼Œåˆ™ä¼šè¿”å›è¢«åˆ é™¤æ‰çš„å¯¹è±¡æ•°ç»„çš„å…ƒç´ æ•°æ®.
å½“ç„¶ï¼Œä¹Ÿæœ‰ä½¿ç”¨ ES6 çš„ï¼Œä¸€å¥ä»£ç æå®šï¼Œä¸è¿‡ä¸å…¼å®¹ IE`const newArr = obj.filter(item => !ary.includes(item.id))`,å› ä¸º array.includes()ä¸æ”¯æŒ IE

### 6.å®ç°é€‰æ‹©å¥½ç›¸å…³æ ¼å¼çš„æ—¥æœŸåï¼Œåœ¨æŸåœ°æ˜¾ç¤ºå‡ºå¤§å†™çš„æ—¥æœŸ(æ—¥æœŸæ ¼å¼è¦ä¸º yyyy-mm-dd)

```
å…ˆå®šä¹‰ä¸ªæ•°ç»„
var weekDay = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]
var date = $('#releaseDate').val(); // è·å–åˆ°æ—¥æœŸçš„æ•°å€¼,ä¸”æ—¥æœŸæ ¼å¼è¦ä¸º 2018-02-16

meetDate = date.split("-â€œ); // æ‹¼æ¥æˆæ•°ç»„
var dt = new Date(meetDate[0],(meetDate[1]-1),meetDate[2]); // æœˆæ•°è¦å‡1

$('#weekDay').text(weekDay[dt.getDay()]); // weekDayæ•°ç»„é¡ºåºè¦æŒ‰ä¸Šé¢æ’åº
```

> To be continued

[1]: https://www.jb51.net/article/31182.htm
